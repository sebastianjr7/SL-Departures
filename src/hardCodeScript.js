const data = {
  "departures": [
    {
      "destination": "Västerhaninge",
      "direction_code": 1,
      "direction": "Nynäshamn",
      "state": "ATSTOP",
      "display": "Nu",
      "scheduled": "2025-08-17T12:21:00",
      "expected": "2025-08-17T12:21:00",
      "journey": {
        "id": 2025081702831,
        "state": "NORMALPROGRESS",
        "prediction_state": "NORMAL"
      },
      "stop_area": {
        "id": 6161,
        "name": "Jordbro",
        "type": "RAILWSTN"
      },
      "stop_point": {
        "id": 6161,
        "name": "Jordbro",
        "designation": "1"
      },
      "line": {
        "id": 43,
        "designation": "43",
        "transport_authority_id": 1,
        "transport_mode": "TRAIN",
        "group_of_lines": "Pendeltåg"
      },
      "deviations": []
    },
    {
      "destination": "Vega (Vardövägen)",
      "direction_code": 2,
      "direction": "Vega/Länna handelsplats",
      "state": "EXPECTED",
      "display": "1 min",
      "scheduled": "2025-08-17T12:22:00",
      "expected": "2025-08-17T12:22:46",
      "journey": {
        "id": 2025081700030,
        "state": "NORMALPROGRESS",
        "prediction_state": "NORMAL"
      },
      "stop_area": {
        "id": 80883,
        "name": "Jordbro station",
        "type": "BUSTERM"
      },
      "stop_point": {
        "id": 80884,
        "name": "Jordbro station",
        "designation": "C"
      },
      "line": {
        "id": 835,
        "designation": "835",
        "transport_authority_id": 1,
        "transport_mode": "BUS"
      },
      "deviations": []
    },
    {
      "destination": "Tungelsta",
      "direction_code": 1,
      "direction": "Tungelsta",
      "state": "EXPECTED",
      "display": "2 min",
      "scheduled": "2025-08-17T12:21:00",
      "expected": "2025-08-17T12:23:42",
      "journey": {
        "id": 2025081700029,
        "state": "NORMALPROGRESS",
        "prediction_state": "NORMAL"
      },
      "stop_area": {
        "id": 80883,
        "name": "Jordbro station",
        "type": "BUSTERM"
      },
      "stop_point": {
        "id": 80883,
        "name": "Jordbro station",
        "designation": "D"
      },
      "line": {
        "id": 835,
        "designation": "835",
        "transport_authority_id": 1,
        "transport_mode": "BUS"
      },
      "deviations": []
    },
    {
      "destination": "Bålsta",
      "direction_code": 2,
      "direction": "Bålsta",
      "state": "EXPECTED",
      "display": "2 min",
      "scheduled": "2025-08-17T12:24:00",
      "expected": "2025-08-17T12:24:00",
      "journey": {
        "id": 2025081702534,
        "state": "NORMALPROGRESS",
        "prediction_state": "NORMAL"
      },
      "stop_area": {
        "id": 6161,
        "name": "Jordbro",
        "type": "RAILWSTN"
      },
      "stop_point": {
        "id": 6162,
        "name": "Jordbro",
        "designation": "2"
      },
      "line": {
        "id": 43,
        "designation": "43",
        "transport_authority_id": 1,
        "transport_mode": "TRAIN",
        "group_of_lines": "Pendeltåg"
      },
      "deviations": []
    },
    {
      "destination": "Vega station",
      "direction_code": 2,
      "direction": "Vega station",
      "state": "EXPECTED",
      "display": "8 min",
      "scheduled": "2025-08-17T12:30:00",
      "expected": "2025-08-17T12:30:00",
      "journey": {
        "id": 2025081700028,
        "state": "EXPECTED"
      },
      "stop_area": {
        "id": 80813,
        "name": "Jordbro station",
        "type": "BUSTERM"
      },
      "stop_point": {
        "id": 80829,
        "name": "Jordbro station",
        "designation": "A"
      },
      "line": {
        "id": 837,
        "designation": "837",
        "transport_authority_id": 1,
        "transport_mode": "BUS"
      },
      "deviations": []
    },
    {
      "destination": "Nynäshamn",
      "direction_code": 1,
      "direction": "Nynäshamn",
      "state": "EXPECTED",
      "display": "14 min",
      "scheduled": "2025-08-17T12:36:00",
      "expected": "2025-08-17T12:36:00",
      "journey": {
        "id": 2025081702533,
        "state": "NORMALPROGRESS",
        "prediction_state": "NORMAL"
      },
      "stop_area": {
        "id": 6161,
        "name": "Jordbro",
        "type": "RAILWSTN"
      },
      "stop_point": {
        "id": 6161,
        "name": "Jordbro",
        "designation": "1"
      },
      "line": {
        "id": 43,
        "designation": "43",
        "transport_authority_id": 1,
        "transport_mode": "TRAIN",
        "group_of_lines": "Pendeltåg"
      },
      "deviations": []
    },
    {
      "destination": "Kungsängen",
      "direction_code": 2,
      "direction": "Bålsta",
      "state": "EXPECTED",
      "display": "17 min",
      "scheduled": "2025-08-17T12:39:00",
      "expected": "2025-08-17T12:39:00",
      "journey": {
        "id": 2025081702836,
        "state": "EXPECTED"
      },
      "stop_area": {
        "id": 6161,
        "name": "Jordbro",
        "type": "RAILWSTN"
      },
      "stop_point": {
        "id": 6162,
        "name": "Jordbro",
        "designation": "2"
      },
      "line": {
        "id": 43,
        "designation": "43",
        "transport_authority_id": 1,
        "transport_mode": "TRAIN",
        "group_of_lines": "Pendeltåg"
      },
      "deviations": []
    },
    {
      "destination": "Västerhaninge",
      "direction_code": 1,
      "direction": "Nynäshamn",
      "state": "EXPECTED",
      "display": "29 min",
      "scheduled": "2025-08-17T12:51:00",
      "expected": "2025-08-17T12:51:00",
      "journey": {
        "id": 2025081702833,
        "state": "NORMALPROGRESS",
        "prediction_state": "NORMAL"
      },
      "stop_area": {
        "id": 6161,
        "name": "Jordbro",
        "type": "RAILWSTN"
      },
      "stop_point": {
        "id": 6161,
        "name": "Jordbro",
        "designation": "1"
      },
      "line": {
        "id": 43,
        "designation": "43",
        "transport_authority_id": 1,
        "transport_mode": "TRAIN",
        "group_of_lines": "Pendeltåg"
      },
      "deviations": []
    },
    {
      "destination": "Tungelsta",
      "direction_code": 1,
      "direction": "Tungelsta",
      "state": "EXPECTED",
      "display": "12:51",
      "scheduled": "2025-08-17T12:51:00",
      "expected": "2025-08-17T12:51:00",
      "journey": {
        "id": 2025081700031,
        "state": "ASSIGNED"
      },
      "stop_area": {
        "id": 80883,
        "name": "Jordbro station",
        "type": "BUSTERM"
      },
      "stop_point": {
        "id": 80883,
        "name": "Jordbro station",
        "designation": "D"
      },
      "line": {
        "id": 835,
        "designation": "835",
        "transport_authority_id": 1,
        "transport_mode": "BUS"
      },
      "deviations": []
    },
    {
      "destination": "Länna handelsplats",
      "direction_code": 2,
      "direction": "Vega/Länna handelsplats",
      "state": "EXPECTED",
      "display": "12:52",
      "scheduled": "2025-08-17T12:52:00",
      "expected": "2025-08-17T12:52:00",
      "journey": {
        "id": 2025081700028,
        "state": "EXPECTED"
      },
      "stop_area": {
        "id": 80883,
        "name": "Jordbro station",
        "type": "BUSTERM"
      },
      "stop_point": {
        "id": 80884,
        "name": "Jordbro station",
        "designation": "C"
      },
      "line": {
        "id": 835,
        "designation": "835",
        "transport_authority_id": 1,
        "transport_mode": "BUS"
      },
      "deviations": []
    },
    {
      "destination": "Bålsta",
      "direction_code": 2,
      "direction": "Bålsta",
      "state": "EXPECTED",
      "display": "12:54",
      "scheduled": "2025-08-17T12:54:00",
      "expected": "2025-08-17T12:54:00",
      "journey": {
        "id": 2025081702536,
        "state": "NORMALPROGRESS",
        "prediction_state": "NORMAL"
      },
      "stop_area": {
        "id": 6161,
        "name": "Jordbro",
        "type": "RAILWSTN"
      },
      "stop_point": {
        "id": 6162,
        "name": "Jordbro",
        "designation": "2"
      },
      "line": {
        "id": 43,
        "designation": "43",
        "transport_authority_id": 1,
        "transport_mode": "TRAIN",
        "group_of_lines": "Pendeltåg"
      },
      "deviations": []
    },
    {
      "destination": "Vega station",
      "direction_code": 2,
      "direction": "Vega station",
      "state": "EXPECTED",
      "display": "13:00",
      "scheduled": "2025-08-17T13:00:00",
      "expected": "2025-08-17T13:00:00",
      "journey": {
        "id": 2025081700030,
        "state": "EXPECTED"
      },
      "stop_area": {
        "id": 80813,
        "name": "Jordbro station",
        "type": "BUSTERM"
      },
      "stop_point": {
        "id": 80829,
        "name": "Jordbro station",
        "designation": "A"
      },
      "line": {
        "id": 837,
        "designation": "837",
        "transport_authority_id": 1,
        "transport_mode": "BUS"
      },
      "deviations": []
    },
    {
      "destination": "Tungelsta",
      "direction_code": 1,
      "direction": "Tungelsta",
      "state": "EXPECTED",
      "display": "13:21",
      "scheduled": "2025-08-17T13:21:00",
      "expected": "2025-08-17T13:21:00",
      "journey": {
        "id": 2025081700033,
        "state": "EXPECTED"
      },
      "stop_area": {
        "id": 80883,
        "name": "Jordbro station",
        "type": "BUSTERM"
      },
      "stop_point": {
        "id": 80883,
        "name": "Jordbro station",
        "designation": "D"
      },
      "line": {
        "id": 835,
        "designation": "835",
        "transport_authority_id": 1,
        "transport_mode": "BUS"
      },
      "deviations": []
    },
    {
      "destination": "Vega (Vardövägen)",
      "direction_code": 2,
      "direction": "Vega/Länna handelsplats",
      "state": "EXPECTED",
      "display": "13:22",
      "scheduled": "2025-08-17T13:22:00",
      "expected": "2025-08-17T13:22:00",
      "journey": {
        "id": 2025081700034,
        "state": "EXPECTED"
      },
      "stop_area": {
        "id": 80883,
        "name": "Jordbro station",
        "type": "BUSTERM"
      },
      "stop_point": {
        "id": 80884,
        "name": "Jordbro station",
        "designation": "C"
      },
      "line": {
        "id": 835,
        "designation": "835",
        "transport_authority_id": 1,
        "transport_mode": "BUS"
      },
      "deviations": []
    }
  ],
  "stop_deviations": []
};

const tbodyN = document.querySelector("#depTableNorth tbody");
const tbodyS = document.querySelector("#depTableSouth tbody");
data.departures.forEach(dep => {
    const row = document.createElement("tr");

    if (dep.line.transport_mode == "TRAIN"){ 
      row.innerHTML = `
      <td>${dep.line.id}</td>
      <td>${dep.destination}</td>
      <td>${dep.display}</td>
      `;
      
      if(dep.direction_code == 2) { //2 is for north, 1 is for south
        tbodyN.appendChild(row) //north direction
      } else {
        tbodyS.appendChild(row) //south direction
      }
    }
});

const clockHeader = document.querySelector("#clock h1");
function startClock() {
  let now = new Date();
  let hours = twoDigitNumber(now.getHours());
  let mins = twoDigitNumber(now.getMinutes());
  let sec = twoDigitNumber(now.getSeconds());
  clockHeader.innerHTML = hours + ":" + mins + ":" + sec;
  setTimeout(startClock, 1000);
}

function twoDigitNumber(number) {
  if (number < 10) {
    return "0" + number;
  }
  return number;
}